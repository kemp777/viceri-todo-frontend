<app-navbar></app-navbar>
<div class="container mt-4">
  <h2>Tarefas</h2>

  <div *ngIf="error" class="alert alert-danger">
    {{ error }}
  </div>

  <div class="d-flex justify-content-end mb-3">
    <a routerLink="/tasks/new" class="btn btn-primary">+ Nova Tarefa</a>
  </div>

  <ul class="list-group mt-3">
    <li *ngFor="let task of tasks" class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <strong>{{ task.description }}</strong>
        <span class="badge text-bg-secondary ms-2">{{ task.priority }}</span>
      </div>
      <button class="btn btn-sm btn-success" (click)="markAsDone(task.id)">Concluir</button>
    </li>
  </ul>

  <div *ngIf="tasks.length === 0 && !error" class="mt-3 text-muted text-center">
    Nenhuma tarefa pendente.
  </div>
</div>
